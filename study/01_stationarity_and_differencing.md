# 8.1 정상성(stationarity)과 차분(differencing)

정상성(stationarity)을 나타내는 시계열은 시계열의 특징이 해당 시계열이 관측된 시간에 무관합니다.  
따라서, 추세나 계절성이 있는 시계열은 정상성을 나타내는 시계열이 아닙니다. - <u>추세와 계절성은 다른 시간에 시계열의 값에 영향을 줄 것이기 때문입니다.</u>  
반면에, 백색잡음(white noise) 시계열은 정상성을 나타내는 시계열입니다. - 언제 관찰하는지에 상관이 없고, 시간에 따라 어떤 시점에서 보더라도 똑같이 보일 것이기 때문입니다.  


몇 가지 경우는 헷갈릴 수 있습니다 - 주기성행동을 가지고 있는 (하지만 추세나 계절성은 없는) 시계열은 정상성을 나타내는 시계열입니다. 왜냐하면 주기가 고정된 길이를 갖고있지 않기 때문에, 시계열을 관측하기 전에 주기의 고점이나 저점이 어디일지 확실하게 알 수 없습니다.  

일반적으로는, 정상성을 나타내는 시계열은 장기적으로 볼 때 예측할 수 있는 패턴을 나타내지 않을 것입니다. (어떤 주기적인 행동이 있을 수 있더라도) 시간 그래프는 시계열이 일정한 분산을 갖고 대략적으로 평평하게 될 것을 나타낼 것입니다.

![figure 8.](pic\스크린샷_20230720_015927.png)
> **figure 8.1 : 다음의 시계열 중에서 어떤 것이 정상성을 나타낼까요?**  
> a) 200 거래일 동안의 구글 주식 가격;  
> b) 200 거래일 동안의 구글 주식 가격의 일일 변동;
> c) 미국의 연간 파업 수;
> d) 미국에서 판매되는 새로운 단독 주택의 월별 판매액;
> e) 미국에서 계랸 12개의 연간 가격 (고정 달러);
> f) 호주 빅토리아 주에서 매월 도살한 돼지의 전체 수;
> g) 캐나다 북서부의 맥킨지 강 지역에서 연간 포획된 스라소니의 전체 수;
> h) 호주 월별 맥주 생산량;
> i) 호주 월별 전기 생산량;

분명하게 계절성을 보이는 d, h, i 는 후보가 되지 못합니다.  
추세가 있고 수준이 변하는 a, c, e, f, i도 후보가 되지 못합니다.  
분산이 증가하는 i도 후보가 되지 못합니다.  
그렇다면 b와 g만 정상성을 나타내는 시계열 후보로 남았습니다.

언뜻 보면 시계열 g에서 나타내는 뚜렷한 주기 때문에 정상성을 나타내는 시계열이 아닌 것처럼 보일 수 있습니다.  
하지만 이러한 주기는 `불규칙적(aperiodic)`입니다. - 먹이를 구하기 힘들만큼 살쾡이 개체수가 너무 많이 늘어나 번식을 멈춰서, 개체수가 작은 숫자로 줄어들고,  
그 다음 먹이를 구할 수 있게 되어 개체수가 다시 늘어나는 식이기 때문입니다.  
장기적으로 볼 때, `이러한 주기의 시작이나 끝은 예측할 수 없습니다. 따라서 이 시계열은 정상성을 나타내는 시계열`입니다.  


### 차분

그림 8.1의 패널 a의 구글 주식 가격이 정상성을 나타내는 시계열이 아니었지만 패널 b의 일별 변화는 정상성을 나타냈다는 것에 주목합시다.  
이 그림은 정상성을 나타내지 않는 시계열을 정상성을 나타내도록 만드는 한 가지 방법을 나타냅니다. - 연이은 관측값들의 차이를 계산하는 것입니다. 이것은 차분(differencing)으로 알려져있습니다.  

로그 같은 변환은 시계열의 분산 변화를 일정하게 만드는데 도움이 될 수 있습니다.  

차분(differencing)은 <u>시계열의 수준에서 나타나는 변화를 제거</u>하여 시계열의 평균 변화를 일정하게 만드는데 도움이 될 수 있습니다. 결과적으로 추세나 계절성이 제거(또는 감소)됩니다.

정상성을 나타내지 않는 시계열을 찾아낼 때 데이터의 시간 그래프를 살펴보는 것 만큼, ACF(Auto Correlation Function) 그래프도 유용합니다. 정상성을 나타내지 않는 데이터에서는 ACF가 느리게 감소하지만, 정상성을 나타내는 시계열에서는, ACF가 비교적 빠르게 0으로 떨어질 것입니다. 그리고 정상성을 나타내지 않는 데이터에서 r1은 종종 큰 양수 값을 같습니다.  

![figure 8.2](pic\스크린샷_20230720_022514.png)
> **figure 8.2 **